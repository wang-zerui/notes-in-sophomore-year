# 1.2.1计算机硬件的基本组成

![截屏2021-02-15 下午1.43.01](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午1.43.01.png)

## 早期冯诺依曼机

![截屏2021-02-15 下午1.43.28](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午1.43.28.png)

很大缺点： 每一步都需要手动接线来控制计算，所以计算速度被人手工速度限制

”存储程序“，将指令以二进制代码的形式事先输入计算机的主存储器，然后按其在存储器中的首地址执行程序的第一条指令，以后就按该程序的规定顺序执行其他指令，直到程序执行结束

## 早期冯诺依曼机硬件结构

![截屏2021-02-15 下午10.39.31](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午10.39.31.png)

输入设备：将信息转换成机器能识别的形式

存储器：存放数据和程序

运算器：算术运算逻辑运算

输出设备：将结果转换为人们熟悉的形式

控制器：指挥程序运行

> 在计算机系统中，软件和硬件在逻辑上是等效的
>
> Eg：对于乘法运算，可以设计一个专门的硬件电路实现乘法运算，也可以用软件的方式，执行多次加法运算来实现

## 冯诺依曼计算机的特点

1. 计算机由五大部件组成
2. 指令和数据以同等地位存于存储器，可按地址寻访
3. 指令和数据用二进制表示
4. 指令由操作码和地址码组成
5. 存储程序
6. **以运算器为中心**（输入/输出设备与存储器之间的数据传送通过运算器完成）

## 一个加工厂

![截屏2021-02-15 下午11.42.51](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.42.51.png)

## 现代计算机的结构（存储器为中心）

![截屏2021-02-15 下午11.43.43](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.43.43.png)

![截屏2021-02-15 下午11.44.20](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.44.20.png)

注意：此处主机区别于通常认为的主机

![截屏2021-02-15 下午11.45.13](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.45.13.png)

> 比如：手机APP就是放在辅存中

![截屏2021-02-15 下午11.45.59](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.45.59.png)

# 1.2.2计算机硬件的基本组成

## 主存储器的基本组成

![截屏2021-02-15 下午11.47.50](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.47.50.png)

> 寄存器用来存放数据

主存储器与菜鸟驿站模型

![截屏2021-02-15 下午11.50.29](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.50.29.png)

| CPU提供数据地址，MAR根据地址寻找数据，将数据写入MDR，CPU读取数据 | 提供取件码，店员去货架寻找，货物放到柜台，我取走 |
| ------------------------------------------------------------ | ------------------------------------------------ |
|                                                              |                                                  |

## 存储单元

 ![截屏2021-02-15 下午11.53.28](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.53.28.png)

  ![截屏2021-02-15 下午11.56.09](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.56.09.png)

+ 存储单元：每个存储单元存放一串二进制代码
+ 存储字（word）：存储单元中二进制代码的组合
+ 存储字长：存储单元中二进制代码位数（16位，32位，64位）
+ 存储元：存储二进制的电子单元，每个存储元可存1bit

## 运算器的基本组成

![截屏2021-02-15 下午11.57.49](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-15 下午11.57.49.png)

+ 运算器：用于实现算术运算，如加减乘除，逻辑运算
+ ACC：累加器，用于存放操作数或运算结果
+ MQ：乘商寄存器，在乘、除运算时，用于存放操作数或运算结果
+ X：通用的操作数寄存器，用于存放操作数
+ **ALU**：算术逻辑单元，通过内部复杂的电路实现算术运算、逻辑运算![截屏2021-02-16 上午12.00.18](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.00.18.png)

## 控制器的基本组成（霸道总裁）

![截屏2021-02-16 上午12.00.40](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.00.40.png)

+ **CU（Control Unit）**：控制单元，分析指令，给出控制信号
+ IR（Instruction Register）：指令寄存器，存放当前执行的指令
+ PC（Program Counter）：程序计数器，存放下一条指令地址，有自动加一功能

![截屏2021-02-16 上午12.04.15](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.04.15.png)

## 用具体例子来说

```c
int a=2, b=3, c=1, y=0;
void main(){
	y=a*b+c;
}
```

$$
编译装入主存\\
\darr\\
$$

![截屏2021-02-16 上午12.07.55](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.07.55.png)

![截屏2021-02-16 上午12.21.51](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.21.51.png)

![截屏2021-02-16 上午12.22.55](https://gitee.com/xinwuyun/myimage/raw/master/img/截屏2021-02-16 上午12.22.55.png)

> 注：现代计算机通常把MAR和MDR集成到CPU中